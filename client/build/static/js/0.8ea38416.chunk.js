"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[0],{1e3:function(e,a,s){s.r(a);var t=s(9439),i=s(2791),n=s(7689),l=s(1243),c=s(2675),r=s(184),d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;a.default=function(){var e=(0,i.useState)(!1),a=(0,t.Z)(e,2),s=a[0],o=a[1],u=(0,n.s0)(),h=(0,n.TH)(),m=new URLSearchParams(h.search),f=m.get("code"),x=m.get("email"),b=h.state?h.state:x,g=(0,i.useState)(f||""),v=(0,t.Z)(g,2),p=v[0],y=v[1],j=(0,i.useState)(""),N=(0,t.Z)(j,2),S=N[0],C=N[1],_=(0,i.useCallback)((function(){o(!0);var e="".concat(d,"/auth/verify?code=").concat(p,"&email=").concat(b);l.Z.get(e).then((function(e){200===e.status&&(u("/email-verified"),y(""),C(""),o(!1))})).catch((function(e){C(e.response.data.message||"Invalid code, please try again."),o(!1)}))}),[p,b,u,o,C]);return(0,i.useEffect)((function(){f&&x&&_()}),[f,x,_]),"Email is already verified"===S&&u("/signin"),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"rounded-md bg-white p-6 shadow-md",children:[(0,r.jsx)("h2",{className:"mb-4 text-2xl font-bold",children:"Verify your email address"}),!f&&!x&&(0,r.jsxs)("p",{className:"mb-4",children:["A verification code was sent to your email address. Please either",(0,r.jsx)("span",{className:"font-bold",children:" follow "}),"the link in the email or",(0,r.jsx)("span",{className:"font-bold",children:" enter "}),"the code below."]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("input",{type:"text",placeholder:"Verification code",className:"w-full rounded-lg border-2 border-gray-200 p-2",value:p,onChange:function(e){y(e.target.value)}})}),S&&(0,r.jsx)("div",{className:"mb-4 text-sm text-red-500",children:S}),(0,r.jsx)("button",{disabled:s,className:"rounded-lg bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",onClick:_,children:s?(0,r.jsx)(c.Z,{loadingText:"Verifying..."}):"Verify"}),(0,r.jsx)("button",{className:"ml-4 rounded-lg bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",onClick:function(){u("/signup")},children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=0.8ea38416.chunk.js.map